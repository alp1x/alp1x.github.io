"use strict";(self.webpackChunkalp_1_x=self.webpackChunkalp_1_x||[]).push([[171],{9613:(e,t,r)=>{r.d(t,{Zo:()=>m,kt:()=>f});var n=r(9496);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var c=n.createContext({}),s=function(e){var t=n.useContext(c),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},m=function(e){var t=s(e.components);return n.createElement(c.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},p=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,i=e.originalType,c=e.parentName,m=l(e,["components","mdxType","originalType","parentName"]),u=s(r),p=a,f=u["".concat(c,".").concat(p)]||u[p]||d[p]||i;return r?n.createElement(f,o(o({ref:t},m),{},{components:r})):n.createElement(f,o({ref:t},m))}));function f(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=r.length,o=new Array(i);o[0]=p;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l[u]="string"==typeof e?e:a,o[1]=l;for(var s=2;s<i;s++)o[s]=r[s];return n.createElement.apply(null,o)}return n.createElement.apply(null,r)}p.displayName="MDXCreateElement"},6348:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>d,frontMatter:()=>i,metadata:()=>l,toc:()=>s});var n=r(1163),a=(r(9496),r(9613));const i={sidebar_position:1},o="QBCore",l={unversionedId:"um-idcard/Starter Setup/qbcore",id:"um-idcard/Starter Setup/qbcore",title:"QBCore",description:"Steps",source:"@site/docs/um-idcard/Starter Setup/qbcore.md",sourceDirName:"um-idcard/Starter Setup",slug:"/um-idcard/Starter Setup/qbcore",permalink:"/um-idcard/Starter Setup/qbcore",draft:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Home",permalink:"/home"},next:{title:"ESX",permalink:"/um-idcard/Starter Setup/esx"}},c={},s=[{value:"Steps",id:"steps",level:2},{value:"qb-multicharacter",id:"qb-multicharacter",level:3},{value:"Replace",id:"replace",level:4},{value:"qb-inventory",id:"qb-inventory",level:3},{value:"Delete",id:"delete",level:4},{value:"Replace",id:"replace-1",level:4},{value:"qb-cityhall",id:"qb-cityhall",level:3},{value:"Replace",id:"replace-2",level:4}],m={toc:s},u="wrapper";function d(e){let{components:t,...r}=e;return(0,a.kt)(u,(0,n.Z)({},m,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"qbcore"},"QBCore"),(0,a.kt)("h2",{id:"steps"},"Steps"),(0,a.kt)("h3",{id:"qb-multicharacter"},"qb-multicharacter"),(0,a.kt)("h4",{id:"replace"},"Replace"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/qbcore-framework/qb-multicharacter/blob/main/server/main.lua#L120"},"Replace L120")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/qbcore-framework/qb-multicharacter/blob/main/server/main.lua#L126"},"Replace L126"))),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-lua",metastring:"title='L120, L126'",title:"'L120,","L126'":!0},"exports['um-idcard']:CreateMetaLicense(src, {'id_card','driver_license'})\n")),(0,a.kt)("h3",{id:"qb-inventory"},"qb-inventory"),(0,a.kt)("h4",{id:"delete"},"Delete"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/qbcore-framework/qb-inventory/blob/main/server/main.lua#L2439"},"Delete L2439")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/qbcore-framework/qb-inventory/blob/main/server/main.lua#L2462"},"Delete L2462"))),(0,a.kt)("h4",{id:"replace-1"},"Replace"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/qbcore-framework/qb-inventory/blob/main/server/main.lua#L2366"},"Replace L2366")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/qbcore-framework/qb-inventory/blob/main/server/main.lua#L2373"},"Replace L2373"))),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-lua"},'local cardlist = {"id_card", "driver_license", "weaponlicense", "lawyerpass"}\nif string.find(table.concat(cardlist, ","), itemData["name"]) then\n    exports[\'um-idcard\']:CreateMetaLicense(source, itemData["name"])\n    QBCore.Functions.Notify(source, Lang:t("notify.yhg") ..GetPlayerName(id).." "..amount.." "..itemData["name"].. "", "success")\n    return\n')),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-lua",metastring:"title='This is just an example to prevent you from making mistakes, do not use this code.'",title:"'This",is:!0,just:!0,an:!0,example:!0,to:!0,prevent:!0,you:!0,from:!0,making:!0,"mistakes,":!0,do:!0,not:!0,use:!0,this:!0,"code.'":!0},'\nQBCore.Commands.Add("giveitem", "Give An Item (Admin Only)", {{name="id", help="Player ID"},{name="item", help="Name of the item (not a label)"}, {name="amount", help="Amount of items"}}, false, function(source, args)\n    local id = tonumber(args[1])\n    local Player = QBCore.Functions.GetPlayer(id)\n    local amount = tonumber(args[3]) or 1\n    local itemData = QBCore.Shared.Items[tostring(args[2]):lower()]\n    local cardlist = {"id_card", "driver_license", "weaponlicense", "lawyerpass"}\n    \n    if Player then\n            if itemData then\n                -- check iteminfo\n                local info = {}\n                if string.find(table.concat(cardlist, ","), itemData["name"]) then\n                    exports[\'um-idcard\']:CreateMetaLicense(source, itemData["name"])\n                    QBCore.Functions.Notify(source, Lang:t("notify.yhg") ..GetPlayerName(id).." "..amount.." "..itemData["name"].. "", "success")\n                    return\n                elseif itemData["type"] == "weapon" then\n                    amount = 1\n                    info.serie = tostring(QBCore.Shared.RandomInt(2) .. QBCore.Shared.RandomStr(3) .. QBCore.Shared.RandomInt(1) .. QBCore.Shared.RandomStr(2) .. QBCore.Shared.RandomInt(3) .. QBCore.Shared.RandomStr(4))\n                    info.quality = 100\n                elseif itemData["name"] == "harness" then\n                    info.uses = 20\n                elseif itemData["name"] == "markedbills" then\n                    info.worth = math.random(5000, 10000)\n                elseif itemData["name"] == "labkey" then\n                    info.lab = exports["qb-methlab"]:GenerateRandomLab()\n                elseif itemData["name"] == "printerdocument" then\n                    info.url = "https://cdn.discordapp.com/attachments/870094209783308299/870104331142189126/Logo_-_Display_Picture_-_Stylized_-_Red.png"\n                end\n\n                if AddItem(id, itemData["name"], amount, false, info) then\n                    QBCore.Functions.Notify(source, Lang:t("notify.yhg") ..GetPlayerName(id).." "..amount.." "..itemData["name"].. "", "success")\n                else\n                    QBCore.Functions.Notify(source,  Lang:t("notify.cgitem"), "error")\n                end\n            else\n                QBCore.Functions.Notify(source,  Lang:t("notify.idne"), "error")\n            end\n    else\n        QBCore.Functions.Notify(source,  Lang:t("notify.pdne"), "error")\n    end\nend, "admin")\n')),(0,a.kt)("h3",{id:"qb-cityhall"},"qb-cityhall"),(0,a.kt)("h4",{id:"replace-2"},"Replace"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/qbcore-framework/qb-cityhall/blob/main/server/main.lua#L23"},"Replace L23"))),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-lua"},"local function giveStarterItems()\n    local Player = QBCore.Functions.GetPlayer(source)\n    if not Player then return end\n    exports['um-idcard']:CreateMetaLicense(source, {'id_card','driver_license'})\nend\n")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/qbcore-framework/qb-cityhall/blob/main/server/main.lua#L53"},"Replace L53"))),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-lua"},"RegisterNetEvent('qb-cityhall:server:requestId', function(item, hall)\n    local src = source\n    local Player = QBCore.Functions.GetPlayer(src)\n    if not Player then return end\n    local itemInfo = Config.Cityhalls[hall].licenses[item]\n    if not Player.Functions.RemoveMoney(\"cash\", itemInfo.cost) then return TriggerClientEvent('QBCore:Notify', src, ('You don\\'t have enough money on you, you need %s cash'):format(itemInfo.cost), 'error') end\n    if item == \"id_card\" then\n        exports['um-idcard']:CreateMetaLicense(src, 'id_card')\n    elseif item == \"driver_license\" then\n        exports['um-idcard']:CreateMetaLicense(src, 'driver_license')\n    elseif item == \"weaponlicense\" then\n        exports['um-idcard']:CreateMetaLicense(src, 'weaponlicense')\n    else\n        return false -- DropPlayer(src, 'Attempted exploit abuse')\n    end\n    TriggerClientEvent('inventory:client:ItemBox', src, QBCore.Shared.Items[item], 'add')\nend)\n")))}d.isMDXComponent=!0}}]);